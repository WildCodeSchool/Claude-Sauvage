{% extends "GedBundle::layout.html.twig" %}
{% block body %}
{% include "GedBundle::search.html.twig" %}
{% include "GedBundle::nav.html.twig" %}
<div class="col-md-10">
	<div class="col-md-6 tab-cel ">
		<h3 style="text-align:center;">Mes favoris</h3>
		<table class="table compact stripe" id="table">
			<thead> 
				<tr> 
					<th></th> 
					<th>Nom du fichier</th>
					<th>Catégorie</th> 
					<th>Tags</th>
					<th>Paramètres</th>
				</tr> 
			</thead> 
			<tbody>
				{% if tabfav is defined %}
					{% for favorite in tabfav %}
						<tr> 
							<td>{{ favorite['type'] }}</td> 
							<td><a href="{{ path('one_file' , {'id': favorite['idfile'] }) }}">{{ favorite['name'] }}</a></td>
							<td>{{ favorite['category'] }}</td> 
							<td>
								{% for tag in favorite['tagnames'] %}
									{{ tag['name'] }} ,
								{% endfor %}
							</td>
							<td><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></td>
						</tr>
					{% endfor %}
				{% endif %}
			</tbody>
		</table>
	</div>
	<div class="col-md-6 tab-cel">
		<h3 style="text-align:center;">Mes uploads</h3>
		<table class="table compact stripe  tab-cel" id="table">
			<thead> 
				<tr> 
					<th></th> 
					<th>Nom du fichier</th>
					<th>Catégorie</th> 
					<th>Tags</th>
					<th>Paramètres</th>
				</tr> 
			</thead> 
			<tbody>
				{% if tabupl is defined %}
					{% for upload in tabupl %}
						<tr> 
							<td>{{ upload['type'] }}</td> 
							{% if upload['type'] == 'pdf' %}
								<td><a href="{{ path('one_file' , {'id': upload['idfile'] }) }}">{{ upload['name'] }}</a></td>
							{% else %}
								<td><a href="{{ path('one_file' , {'id': upload['idfile'] }) }}">{{ upload['name'] }}</a></td>
							{% endif %}
							<td>{{ upload['category'] }}</td> 
							<td>
								{% for tag in upload['tagnames'] %}
									{{ tag['name'] }}
								{% endfor %}
							</td>
							<td><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></td>
						</tr>
					{% endfor %}
				{% endif %}
			</tbody>
		</table>
	</div>
</div>
<div class="col-md-10">
	<div class="col-md-6 tab-cel">
		<h3 style="text-align:center;">Dernier commenté</h3>
		<table class="table compact stripe" id="table">
			<thead> 
				<tr> 
					<th></th> 
					<th>Nom du fichier</th>
					<th>Catégorie</th> 
					<th>Tags</th>
					<th>Paramètres</th>
				</tr> 
			</thead> 
			<tbody>
				{% if tabcom is defined %}
					{% for commented in tabcom %}
						<tr> 
							<td>{{ commented['type'] }}</td> 
							<td><a href="{{ path('one_file' , {'id': commented['idfile'] }) }}">{{ commented['name'] }}</a></td>
							<td>{{ commented['category'] }}</td> 
							<td>
								{% for tag in commented['tagnames'] %}
									{{ tag['name'] }} ,
								{% endfor %}
							</td>
							<td><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></td>
						</tr>
					{% endfor %}
				{% endif %}
			</tbody>
		</table>
	</div>
	<div class="col-md-6 tab-cel">
		<h3 style="text-align:center;">Partagés avec moi</h3>
		<table class="table compact stripe" id="table">
			<thead> 
				<tr> 
					<th></th> 
					<th>Nom du fichier</th>
					<th>Catégorie</th> 
					<th>Tags</th>
					<th>Paramètres</th>
				</tr> 
			</thead> 
			<tbody>
				{% if tabpart is defined %}
					{% for partaged in tabpart %}
						<tr> 
							<td>{{ partaged['type'] }}</td> 
							<td><a href="{{ path('one_file' , {'id': partaged['idfile'] }) }}">{{ partaged['name'] }}</a></td>
							<td>{{ partaged['category'] }}</td> 
							<td>
								{% for tag in partaged['tagnames'] %}
									{{ tag['name'] }} ,
								{% endfor %}
							</td>
							<td><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></td>
						</tr>
					{% endfor %}
				{% endif %}
			</tbody>
		</table>
	</div>
</div>
<script type="text/javascript"> 
$(document).ready(function() { 
	$('table').DataTable( { 
		"paging": false,
		"info": false,
		"sDom": '<"H"lr>t<"F"ip>',
		"columnDefs": [{ "orderable": false, "targets": [3,4] }],
		"order": [[1, "asc"]]
	} );
} );
</script>
{% endblock body %}